# Ultralytics ğŸš€ AGPL-3.0 License - https://ultralytics.com/license

# WIDER Faceäººè„¸å…³é”®ç‚¹æ•°æ®é›†é…ç½®
# æ–‡æ¡£: https://docs.ultralytics.com/datasets/pose/face/
# ä½¿ç”¨ç¤ºä¾‹: yolo train data=wflw.yaml

# æ•°æ®é›†ç»“æ„
# â”œâ”€â”€ ultralytics
# â””â”€â”€ datasets
#     â””â”€â”€ widerface  â† ä¸‹è½½ä½ç½®

# è®­ç»ƒ/éªŒè¯/æµ‹è¯•é›†è·¯å¾„
path: /content/widerface  # æ•°æ®é›†æ ¹ç›®å½•
train: train  # è®­ç»ƒå›¾åƒç›®å½• (ç›¸å¯¹äº'path')
val: val     # éªŒè¯å›¾åƒç›®å½• (ç›¸å¯¹äº'path')
test: test   # æµ‹è¯•å›¾åƒç›®å½• (ç›¸å¯¹äº'path')

# å…³é”®ç‚¹é…ç½®
kpt_shape: [5, 3]  # 5ä¸ªå…³é”®ç‚¹ï¼Œæ¯ä¸ªç‚¹æœ‰3ä¸ªå€¼ [x,y,visible]
flip_idx: [1, 0, 2, 4, 3]  # æ°´å¹³ç¿»è½¬æ—¶çš„å…³é”®ç‚¹å¯¹åº”å…³ç³»ï¼šå³çœ¼<->å·¦çœ¼ï¼Œå³å˜´è§’<->å·¦å˜´è§’

# ç±»åˆ«åç§°
names:
  0: face  # åªæœ‰ä¸€ä¸ªç±»åˆ«ï¼šäººè„¸

# å…³é”®ç‚¹åç§°
kpt_names: ['left_eye', 'right_eye', 'nose', 'left_mouth', 'right_mouth']

# æ•°æ®é›†å‡†å¤‡è¯´æ˜
download: |
  # WIDER Faceæ•°æ®é›†ä¸‹è½½å’Œå‡†å¤‡æ­¥éª¤
  # 1. ä½¿ç”¨prepare_widerface.pyè„šæœ¬ä¸‹è½½å’Œå‡†å¤‡æ•°æ®é›†:
  #    python prepare_widerface.py --download --process
  #
  # 2. è¯¥è„šæœ¬ä¼šè‡ªåŠ¨:
  #    - ä¸‹è½½WIDER Faceæ•°æ®é›†(è®­ç»ƒé›†ã€éªŒè¯é›†ã€æµ‹è¯•é›†å’Œæ ‡æ³¨)
  #    - è§£å‹å¹¶ç»„ç»‡æ–‡ä»¶ç»“æ„
  #    - è½¬æ¢æ ‡æ³¨ä¸ºYOLOæ ¼å¼: class_id cx cy w h x1 y1 v1 x2 y2 v2 ... x5 y5 v5
  #      å…¶ä¸­(cx, cy, w, h)æ˜¯å½’ä¸€åŒ–çš„è¾¹ç•Œæ¡†ä¸­å¿ƒåæ ‡å’Œå®½é«˜ï¼Œ(x1,y1,v1)ç­‰æ˜¯å…³é”®ç‚¹åæ ‡å’Œå¯è§æ€§
  #
  # 3. ç¡®ä¿æ–‡ä»¶å¤¹ç»“æ„å¦‚ä¸‹:
  #    widerface/
  #    â”œâ”€â”€ images/
  #    â”‚   â”œâ”€â”€ train/
  #    â”‚   â”œâ”€â”€ val/
  #    â”‚   â””â”€â”€ test/
  #    â””â”€â”€ labels/
  #        â”œâ”€â”€ train/
  #        â”œâ”€â”€ val/
  #        â””â”€â”€ test/
  #    â””â”€â”€ data.yaml 